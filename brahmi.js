const brahmiMap = {
   //aa
   'ð‘€“a': 'ð‘€“ð‘€¸', //kaa 
   'ð‘€”a': 'ð‘€”ð‘€¸', //khaa
   'ð‘€•a': 'ð‘€•ð‘€¸', //gaa
   'ð‘€–a': 'ð‘€–ð‘€¸', //ghaa
   'ð‘€˜a': 'ð‘€˜ð‘€¸', //caa
   'ð‘€™a': 'ð‘€™ð‘€¸', //chaa
   'ð‘€ša': 'ð‘€šð‘€¸', //jaa
   'ð‘€›a': 'ð‘€›ð‘€¸', //jhaa
   'ð‘€œa': 'ð‘€œð‘€¸', //Ã±aa
   'ð‘€a': 'ð‘€ð‘€¸', //á¹­aa
   'ð‘€ža': 'ð‘€žð‘€¸', //á¹­haa
   'ð‘€Ÿa': 'ð‘€Ÿð‘€¸', //á¸aa
   'ð‘€ a': 'ð‘€ ð‘€¸', //á¸haa
   'ð‘€—a': 'ð‘€—ð‘€¸', //ngaa (á¹…aa)
   'ð‘€¢a': 'ð‘€¢ð‘€¸', //taa
   'ð‘€£a': 'ð‘€£ð‘€¸', //thaa
   'ð‘€¤a': 'ð‘€¤ð‘€¸', //daa
   'ð‘€¥a': 'ð‘€¤ð‘€¸', //dhaa
   'ð‘€¦a': 'ð‘€¦ð‘€¸', //na
   'ð‘€§a': 'ð‘€§ð‘€¸', //paa
   'ð‘€¨a': 'ð‘€¨ð‘€¸', //phaa 
   'ð‘€©a': 'ð‘€©ð‘€¸', //baa
   'ð‘€ªa': 'ð‘€ªð‘€¸', //bhaa 
   'ð‘€°a': 'ð‘€°ð‘€¸', //Å›aa
   'ð‘€±a': 'ð‘€±ð‘€¸', //á¹£aa
   'ð‘€²a': 'ð‘€²ð‘€¸', //saa
   'ð‘€´a': 'ð‘€´ð‘€¸', //á¸·aa
   'ð‘€¡a': 'ð‘€¡ð‘€¸', //á¹‡aa
   'ð‘€«a': 'ð‘€«ð‘€¸', //maa
   'ð‘€¬a': 'ð‘€¬ð‘€¸', //yaa
   'ð‘€­a': 'ð‘€­ð‘€¸', //raa
   'ð‘€®a': 'ð‘€®ð‘€¸', //laa
   'ð‘€¯a': 'ð‘€¯ð‘€¸', //vaa
   'ð‘€³a': 'ð‘€³ð‘€¸', //haa

   //ii
 'ð‘€“ð‘€ºi': 'ð‘€“ð‘€º', //kii
 'ð‘€”ð‘€ºi': 'ð‘€”ð‘€º', //khii
 'ð‘€•ð‘€ºi': 'ð‘€•ð‘€º', //gii
 
 'ð‘€–ð‘†i': 'ð‘€–ð‘€º', //ghii
 'ð‘€˜ð‘†i': 'ð‘€˜ð‘€º', //cii
 'ð‘€™ð‘†i': 'ð‘€™ð‘€º', //chii
 'ð‘€šð‘†i': 'ð‘€šð‘€º', //jii
 'ð‘€›ð‘†i': 'ð‘€›ð‘€º', //jhii
 'ð‘€œð‘†i': 'ð‘€œð‘€º', //Ã±ii
 'ð‘€ð‘†i': 'ð‘€ð‘€º', //á¹­ii
 'ð‘€žð‘†i': 'ð‘€žð‘€º', //á¹­hii
 'ð‘€Ÿð‘†i': 'ð‘€Ÿð‘€º', //á¸ii
 'ð‘€ ð‘†i': 'ð‘€ ð‘€º', //á¸hii
 'ð‘€—ð‘†i': 'ð‘€¡ð‘€º', //ngii (á¹…ii)
 'ð‘€¢ð‘†i': 'ð‘€¢ð‘€º', //tii
 'ð‘€£ð‘†i': 'ð‘€£ð‘€º', //thii
 'ð‘€¤ð‘†i': 'ð‘€¤ð‘€º', //dii
 'ð‘€¥ð‘†i': 'ð‘€¥ð‘€º', //dhii
 'ð‘€¦ð‘†i': 'ð‘€¦ð‘€º', //nii
 'ð‘€§ð‘†i': 'ð‘€§ð‘€º', //pii
 'ð‘€¨ð‘†i': 'ð‘€¨ð‘€º', //phii 
 'ð‘€©ð‘†i': 'ð‘€©ð‘€º', //bii
 'ð‘€ªð‘†i': 'ð‘€ªð‘€º', //bhii 
 'ð‘€°ð‘†i': 'ð‘€°ð‘€º', //Å›ii
 'ð‘€±ð‘†i': 'ð‘€±ð‘€º', //á¹£ii
 'ð‘€²ð‘†i': 'ð‘€²ð‘€º', //sii
 'ð‘€´ð‘†i': 'ð‘€´ð‘€º', //á¸·ii
 'ð‘€¡ð‘†i': 'ð‘€¡ð‘€º', //á¹‡ii
 'ð‘€«ð‘†i': 'ð‘€«ð‘€º', //mii
 'ð‘€¬ð‘†i': 'ð‘€¬ð‘€º', //yii
 'ð‘€­ð‘†i': 'ð‘€­ð‘€º', //rii
 'ð‘€®ð‘†i': 'ð‘€®ð‘€º', //lii
 'ð‘€¯ð‘†i': 'ð‘€¯ð‘€º', //vii
 'ð‘€³ð‘†i': 'ð‘€³ð‘€º', //hii
 
  //a
  'ð‘€“ð‘†a': 'ð‘€“', //ka 
  'ð‘€”ð‘†a': 'ð‘€”', //kha
  'ð‘€•ð‘†a': 'ð‘€•', //ga
  'ð‘€–ð‘†a': 'ð‘€–', //gha
  'ð‘€˜ð‘†a': 'ð‘€˜', //ca
  'ð‘€™ð‘†a': 'ð‘€™', //cha
  'ð‘€šð‘†a': 'ð‘€š', //ja
  'ð‘€›ð‘†a': 'ð‘€›', //jha
  'ð‘€œð‘†a': 'ð‘€œ', //Ã±a
  'ð‘€ð‘†a': 'ð‘€', //á¹­a
  'ð‘€žð‘†a': 'ð‘€ž', //á¹­ha
  'ð‘€Ÿð‘†a': 'ð‘€Ÿ', //á¸a
  'ð‘€ ð‘†a': 'ð‘€ ', //á¸ha
  'ð‘€—ð‘†a': 'ð‘€—', //nga (á¹…a)
  'ð‘€¢ð‘†a': 'ð‘€¢', //ta
  'ð‘€£ð‘†a': 'ð‘€£', //tha
  'ð‘€¤ð‘†a': 'ð‘€¤', //da 
  'ð‘€¥ð‘†': 'ð‘€¥', //dha 
  'ð‘€¦ð‘†a': 'ð‘€¦', //n
  'ð‘€§ð‘†a': 'ð‘€§', //pa 
  'ð‘€¨ð‘†a': 'ð‘€¨', //pha 
  'ð‘€©ð‘†a': 'ð‘€©', //ba 
  'ð‘€ªð‘†a': 'ð‘€ª', //bha 
  'ð‘€°ð‘†a': 'ð‘€°', //Å›a 
  'ð‘€±ð‘†a': 'ð‘€±', //á¹£a 
  'ð‘€²ð‘†a': 'ð‘€²', //sa 
  'ð‘€´ð‘†a': 'ð‘€´', //á¸·a 
  'ð‘€¡ð‘†a': 'ð‘€¡', //á¹‡a
  'ð‘€«ð‘†a': 'ð‘€«', //ma
  'ð‘€¬ð‘†a': 'ð‘€¬', //ya
  'ð‘€­ð‘†a': 'ð‘€­', //ra 
  'ð‘€®ð‘†a': 'ð‘€®', //la
  'ð‘€¯ð‘†a': 'ð‘€¯', //va
  'ð‘€³ð‘†a': 'ð‘€³', //ha

 //i
 'ð‘€“ð‘†i': 'ð‘€“ð‘€º', //ki
 'ð‘€”ð‘†i': 'ð‘€”ð‘€º', //khi
 'ð‘€•ð‘†i': 'ð‘€•ð‘€º', //gi
 'ð‘€–ð‘†i': 'ð‘€–ð‘€º', //ghi
 'ð‘€˜ð‘†i': 'ð‘€˜ð‘€º', //ci
 'ð‘€™ð‘†i': 'ð‘€™ð‘€º', //chi
 'ð‘€šð‘†i': 'ð‘€šð‘€º', //ji
 'ð‘€›ð‘†i': 'ð‘€›ð‘€º', //jhi
 'ð‘€œð‘†i': 'ð‘€œð‘€º', //Ã±i
 'ð‘€ð‘†i': 'ð‘€ð‘€º', //á¹­i
 'ð‘€žð‘†i': 'ð‘€žð‘€º', //á¹­hi
 'ð‘€Ÿð‘†i': 'ð‘€Ÿð‘€º', //á¸i
 'ð‘€ ð‘†i': 'ð‘€ ð‘€º', //á¸hi
 'ð‘€—ð‘†i': 'ð‘€¡ð‘€º', //ngi (á¹…i)
 'ð‘€¢ð‘†i': 'ð‘€¢ð‘€º', //ti
 'ð‘€£ð‘†i': 'ð‘€£ð‘€º', //thi
 'ð‘€¤ð‘†i': 'ð‘€¤ð‘€º', //di
 'ð‘€¥ð‘†i': 'ð‘€¥ð‘€º', //dhi
 'ð‘€¦ð‘†i': 'ð‘€¦ð‘€º', //ni
 'ð‘€§ð‘†i': 'ð‘€§ð‘€º', //pi
 'ð‘€¨ð‘†i': 'ð‘€¨ð‘€º', //phi 
 'ð‘€©ð‘†i': 'ð‘€©ð‘€º', //bi
 'ð‘€ªð‘†i': 'ð‘€ªð‘€º', //bhi 
 'ð‘€°ð‘†i': 'ð‘€°ð‘€º', //Å›i
 'ð‘€±ð‘†i': 'ð‘€±ð‘€º', //á¹£i
 'ð‘€²ð‘†i': 'ð‘€²ð‘€º', //si
 'ð‘€´ð‘†i': 'ð‘€´ð‘€º', //á¸·i
 'ð‘€¡ð‘†i': 'ð‘€¡ð‘€º', //á¹‡i
 'ð‘€«ð‘†i': 'ð‘€«ð‘€º', //mi
 'ð‘€¬ð‘†i': 'ð‘€¬ð‘€º', //yi
 'ð‘€­ð‘†i': 'ð‘€­ð‘€º', //ri
 'ð‘€®ð‘†i': 'ð‘€®ð‘€º', //li
 'ð‘€¯ð‘†i': 'ð‘€¯ð‘€º', //vi
 'ð‘€³ð‘†i': 'ð‘€³ð‘€º', //hi



  //basic vowels
  'ð‘€…a': 'ð‘€†', //long a
  'ð‘€‡i': 'ð‘€ˆ', // long i
  'ð‘€‰u': 'ð‘€Š', //long u
  'ð‘€‹=': 'ð‘€Œ', // long voc. r
  'ð‘€=': 'ð‘€Ž', //long voc. l
  'ð‘€…i': 'ð‘€', //ai
  'ð‘€…u': 'ð‘€’', //au
  'a': 'ð‘€…', //a
  'i': 'ð‘€‡', //i
  'u': 'ð‘€‰', //u
  'ð‘€­ð‘†=': 'ð‘€‹', //voc. r
  'ð‘€®ð‘†=': 'ð‘€', //voc. l
  'e': 'ð‘€', //e
  'o': 'ð‘€‘', //o

  //basic consonant
  'ð‘€“ð‘†h': 'ð‘€”ð‘†', //kh
  'ð‘€•ð‘†h': 'ð‘€–ð‘†', //gh
  'ð‘€˜ð‘†h': 'ð‘€™ð‘†', //ch
  'ð‘€šð‘†h': 'ð‘€›ð‘†', //jh
  'ð‘€¦ð‘†y': 'ð‘€œð‘†', //Ã±
  'ð‘€ð‘†h': 'ð‘€žð‘†', //á¹­h
  'ð‘€Ÿð‘†h': 'ð‘€ ð‘†', //á¸h
  'ð‘€¦ð‘†g': 'ð‘€—ð‘†', //ng (á¹…)
  'ð‘€¢ð‘†h': 'ð‘€£ð‘†', //th
  'ð‘€¤ð‘†h': 'ð‘€¥ð‘†', //dh
  'ð‘€§ð‘†h': 'ð‘€¨ð‘†', //ph
  'ð‘€©ð‘†h': 'ð‘€ªð‘†', //bh
  'ð‘€²ð‘†h': 'ð‘€°ð‘†', //Å›
  'ð‘€²ð‘†=': 'ð‘€±ð‘†', //á¹£
  'ð‘€¢ð‘†=': 'ð‘€ð‘†', //á¹­
  'ð‘€¤ð‘†=': 'ð‘€Ÿð‘†', //á¸
  'ð‘€¦ð‘†=': 'ð‘€¡ð‘†', //á¹‡
  'ð‘€®ð‘†.': 'ð‘€´ð‘†', //á¸·
  'k': 'ð‘€“ð‘†', //k
  'g': 'ð‘€•ð‘†', //g
  'c': 'ð‘€˜ð‘†', //c
  'j': 'ð‘€šð‘†', //j
  't': 'ð‘€¢ð‘†', //t
  'd': 'ð‘€¤ð‘†', //d
  'n': 'ð‘€¦ð‘†', //n
  'p': 'ð‘€§ð‘†', //p
  'b': 'ð‘€©ð‘†', //b
  'm': 'ð‘€«ð‘†', //m
  'y': 'ð‘€¬ð‘†', //y
  'r': 'ð‘€­ð‘†', //r   
  'l': 'ð‘€®ð‘†', //l
  'v': 'ð‘€¯ð‘†', //v
  's': 'ð‘€²ð‘†', //s
  'h': 'ð‘€³ð‘†', //h
};

const textArea = document.getElementById('textArea');

const delay = 100;

let timeoutId;

function transcribe(event) {
  clearTimeout(timeoutId);
  timeoutId = setTimeout(() => {
  const currentText = event.target.value;

  let processedText = currentText;
  for(const [key, value] of Object.entries(brahmiMap)) {
    const regex = new RegExp(key, 'g');
    processedText= processedText.replace(regex, value);
  }
  processedText = processedText.replace(/Ïƒ\s/g, 'Ï‚ ');
  event.target.value = processedText;
}, delay);
}

textArea.addEventListener('input', transcribe);

function copyFn() {
  const textArea = document.getElementById('textArea');
  
  textArea.select();
  textArea.setSelectionRange(0, 99999); //mobile odd tings

  try {
    navigator.clipboard.writeText(textArea.value).then(()=> {
      alert('Text copied to clipboard!');
    }).catch (err => {
      alert('Failed to copy text. Please try again!');
      console.error('Error copying text: ', err);
    });
  } catch (err) {
    alert('Failed to copy text. Please try again!');
    console.error('Error copying text: ', err);
  }
}